{% extends "base.html" %}
{% block title %}Dashboard - Gym Routine App{% endblock %}

{% block content %}
<div class="container mt-4">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3">Dashboard</h1>
        <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-secondary btn-sm">
        <i class="bi bi-box-arrow-right"></i> Cerrar sesi칩n
        </a>
    </div>

    <!-- Bienvenida -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h5 class="card-title">춰Bienvenido, {{ current_user.username }}! 游녦</h5>
            <p class="card-text text-muted">
                Est치s en tu panel principal de la aplicaci칩n de gesti칩n de rutinas de gimnasio.
            </p>
            <div class="d-flex flex-wrap gap-2 mt-3">
                <a href="{{ url_for('exercise.view_exercises') }}" class="btn btn-primary">
                <i class="bi bi-collection"></i> Ver ejercicios
                </a>
                <a href="{{ url_for('routine.view_routines') }}" class="btn btn-primary">
                <i class="bi bi-list-task"></i> Ver rutinas
                </a>
                <a href="{{ url_for('workout_log.select_day')}}" class="btn btn-success">
                <i class="bi bi-plus-circle"></i> Nuevo registro
                </a>
            </div>
        </div>
    </div>

    <!-- Calendario -->
    {% include 'partials/workout_calendar.html' %}

    <!-- Estad칤sticas -->
    <div class="row mt-4">
        <div class="col-md-4">
            <div class="card text-center shadow-sm">
                <div class="card-body">
                    <h5 class="card-title"><i class="bi bi-calendar-check text-primary"></i></h5>
                    <p class="card-text fs-4">{{ days_this_month }}</p>
                    <p class="text-muted">D칤as entrenados en {{ month }}/{{ year }}</p>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card text-center shadow-sm">
                <div class="card-body">
                    <h5 class="card-title"><i class="bi bi-clipboard-data text-success"></i></h5>
                    <p class="card-text fs-4">{{ total_logs }}</p>
                    <p class="text-muted">Entrenamientos registrados</p>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card text-center shadow-sm">
                <div class="card-body">
                    <h5 class="card-title"><i class="bi bi-trophy text-warning"></i></h5>
                    {% if most_frequent %}
                    <p class="card-text fs-5">{{ most_frequent }}</p>
                    <p class="text-muted">Ejercicio m치s frecuente</p>
                    {% else %}
                    <p class="text-muted">A칰n no hay registros</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
